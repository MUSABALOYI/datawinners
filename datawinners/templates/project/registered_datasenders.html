{% extends 'project/tab_navigation.html' %}
{% load i18n %}
{% block page_title %} {% trans "Projects - Data Senders" %} {% endblock %}

{% load dw_tabs %}
{% block navigation %}
    {% activetab "tab_nav" "data_senders" %}
    {{ block.super }}
{% endblock %}

{% block body %}
    {% activetab "main_nav" "projects" %}
    {{ block.super }}
{% endblock %}

{% block page_scss %}
    {{ block.super }}
    <link href="/media/css/scss/section_subjects.scss" rel="stylesheet"/>
    <link href="/media/javascript/file_uploader/fileuploader.css" rel="stylesheet"/>
{% endblock %}

{% block page_js %}
    {{ block.super }}
    <script type="text/javascript" src="/media/javascript/project/my_datasenders_reload_tables.js"></script>
    <script type="text/javascript" src="/media/javascript/file_uploader/fileuploader.js"></script>
    <script type="text/javascript" src="/media/javascript/project/registered_datasenders.js"></script>
    <script type="text/javascript" src="/media/javascript/datasenders/import.js"></script>
{% endblock %}

{% block content %}
    <div>
        <div class="grid_8 alpha">
            <h2>{% trans "My Data Senders" %}</h2>
        </div>
        <div class="grid_8 float_right omega text_align_right">
            <a href="{{ project_links.register_datasenders_link }}">{% trans "Add a new Data Sender" %}</a> &nbsp;|&nbsp;
            <a href="javascript:void(0);" id="import-datasenders">{% trans "Import a list" %}</a>
        </div>
        <div class="clear-both"></div>
    </div>

    <div id="my_subjects">
    {% block secondary_navigation_datasenders %}
        {% activetab "secondary_tab_nav" "datasenders" %}
        {{ block.super }}
    {% endblock %}
    </div>

    <label class="float_left">{% trans "Actions:" %} </label>
    <select id='action' class="margin_bottom_20">
        <option value="">--</option>
        <option value="disassociate">{% trans "Dis-Associate" %}</option>
    </select>
    <table id='associated_data_senders' class="styled_table">
        <thead>
            <tr>
                <th>{% trans "Select" %}</th>
            {% for title in labels %}
                <th>{{ title }}</th>
            {% endfor %}
            </tr>
        </thead>
        <tbody id="tbody">
        {% for row in all_data %}
            <tr>
                <td><input type="checkbox" value="{{ row.short_code }}"/>
                {% for col in row.cols %}
                    <td>{{ col }}</td>
                {% endfor %}
            </tr>
        {% endfor %}
        </tbody>
    </table>
    <input type="text" value="{{ project.id }}" class="none" id="project_id"/>
    <div id="popup-import">
    {% include "import-datasenders.html" %}
    </div>
{% endblock %}